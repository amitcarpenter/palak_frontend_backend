<!-- /*
* Template Name: Blogy
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Untree.co">
  <link rel="shortcut icon" href="favicon.png">

  <meta name="description" content="" />
  <meta name="keywords" content="bootstrap, bootstrap5" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600;700&display=swap" rel="stylesheet">


  <link rel="stylesheet" href="fonts/icomoon/style.css">
  <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

  <link rel="stylesheet" href="css/tiny-slider.css">
  <link rel="stylesheet" href="css/aos.css">
  <link rel="stylesheet" href="css/glightbox.min.css">
  <link rel="stylesheet" href="css/style.css">

  <link rel="stylesheet" href="css/flatpickr.min.css">


  <title>Blog &mdash; Real Esate Blog Ontario</title>
</head>

<body>

  <div id="singleBlogContainer">
    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close">
          <span class="icofont-close js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    <!-- 
    <div class="site-cover site-cover-sm same-height overlay single-page"
      style="background-image: url('images/single-page-backgroud.webp');">
      <div class="container">
        <div class="row same-height justify-content-center">
          <div class="col-md-6">
            <div class="post-entry text-center">
              <h1 class="mb-4">Donâ€™t assume your user data in the cloud is safe</h1>
              <div class="post-meta align-items-center text-center">
                <figure class="author-figure mb-0 me-3 d-inline-block"><img src="images/author-image-malik.png"
                    alt="Image" class="img-fluid"></figure>
                <span class="d-inline-block mt-1">By Carl Atkinson</span>
                <span>&nbsp;-&nbsp; February 10, 2019</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <section class="section">
      <div class="container">
        <div class="row blog-entries element-animate">
          <div class="col-md-12 col-lg-8 main-content">
            <div class="post-content-body">
              <div class="row my-4">
                <div class="col-md-12 mb-4">
                  <img src="images/hero_1.jpg" alt="Image placeholder" class="img-fluid rounded">
                </div>
              </div>
              <p>Quibusdam autem, quas molestias recusandae aperiam molestiae modi qui ipsam vel. Placeat tenetur
                veritatis tempore quos impedit dicta, error autem, quae sint inventore ipsa quidem. Quo voluptate
                quisquam
                reiciendis, minus, animi minima eum officia doloremque repellat eos, odio doloribus cum.</p>
              <p>Temporibus quo dolore veritatis doloribus delectus dolores perspiciatis recusandae ducimus, nisi quod,
                incidunt ut quaerat, magnam cupiditate. Aut, laboriosam magnam, nobis dolore fugiat impedit
                necessitatibus
                nisi cupiditate, quas repellat itaque molestias sit libero voluptas eveniet omnis illo ullam dolorem
                minima.</p>
              <p>Porro amet accusantium libero fugit totam, deserunt ipsa, dolorem, vero expedita illo similique saepe
                nisi deleniti. Cumque, laboriosam, porro! Facilis voluptatem sequi nulla quidem, provident eius quos
                pariatur maxime sapiente illo nostrum quibusdam aliquid fugiat! Earum quod fuga id officia.</p>
            </div>
            <div class="pt-5">
              <p>Categories: <a href="#">Food</a>, <a href="#">Travel</a> Tags: <a href="#">#manila</a>, <a
                  href="#">#asia</a></p>
            </div>
          </div>
          <div class="col-md-12 col-lg-4 sidebar">
            <div class="sidebar-box search-form-wrap">
              <form action="#" class="sidebar-search-form">
                <span class="bi-search"></span>
                <input type="text" class="form-control" id="s" placeholder="Type a keyword and hit enter">
              </form>
            </div>
            <div class="sidebar-box">
              <div class="bio text-center">
                <img src="images/person_2.jpg" alt="Image Placeholder" class="img-fluid mb-3">
                <div class="bio-body">
                  <h2>Hannah Anderson</h2>
                  <p class="mb-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem facilis sunt
                    repellendus excepturi beatae porro debitis voluptate nulla quo veniam fuga sit molestias minus.</p>
                  <p><a href="#" class="btn btn-primary btn-sm rounded px-2 py-2">Read my bio</a></p>
                  <p class="social">
                    <a href="#" class="p-2"><span class="fa fa-facebook"></span></a>
                    <a href="#" class="p-2"><span class="fa fa-twitter"></span></a>
                    <a href="#" class="p-2"><span class="fa fa-instagram"></span></a>
                    <a href="#" class="p-2"><span class="fa fa-youtube-play"></span></a>
                  </p>
                </div>
              </div>
            </div>
            <div class="sidebar-box">
              <h3 class="heading">Tags</h3>
              <ul class="tags">
                <li><a href="#">Travel</a></li>
                <li><a href="#">Adventure</a></li>
                <li><a href="#">Food</a></li>
                <li><a href="#">Lifestyle</a></li>
                <li><a href="#">Business</a></li>
                <li><a href="#">Freelancing</a></li>
                <li><a href="#">Travel</a></li>
                <li><a href="#">Adventure</a></li>
                <li><a href="#">Food</a></li>
                <li><a href="#">Lifestyle</a></li>
                <li><a href="#">Business</a></li>
                <li><a href="#">Freelancing</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section> -->
  </div>


  <!-- Preloader -->
  <div id="overlayer"></div>
  <div class="loader">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>


  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/tiny-slider.js"></script>

  <script src="js/flatpickr.min.js"></script>


  <script src="js/aos.js"></script>
  <script src="js/glightbox.min.js"></script>
  <script src="js/navbar.js"></script>
  <script src="js/counter.js"></script>
  <script src="js/custom.js"></script>

  <!-- 
  <script>


    // single-blog.js

    document.addEventListener('DOMContentLoaded', async () => {
      // Fetch blog post data
      const postLink = getPostLinkFromURL();
      const postData = await fetchBlogData(postLink);
      // Render the blog post
      renderBlogPost(postData);
    });

    function getPostLinkFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('postLink');
    }

    async function fetchBlogData(postLink) {
      try {
        const response = await fetch(`http://localhost:5000/blog/getblogbyid/${postLink}`);
        const data = await response.json();
        console.log(data)
        return data;
      } catch (error) {
        console.error('Error fetching blog post data:', error);
      }
    }

    function renderBlogPost(postData) {
      const singleBlogContainer = document.getElementById('singleBlogContainer');

      if (postData) {
        const formattedDate = formatDate(postData.post_time);
        const postHtml = `
            <div class="site-cover site-cover-sm same-height overlay single-page"
                style="background-image:url('images/single-page-backgroud.webp');">
                <div class="container">
                    <div class="row same-height justify-content-center">
                        <div class="col-md-6">
                            <div class="post-entry text-center">
                                <h1 class="mb-4">${postData.title}</h1>
                                <div class="post-meta align-items-center text-center">
                                    <figure class="author-figure mb-0 me-3 d-inline-block">
                                        <img src="images/author-image-malik.png" alt="Image" class="img-fluid">
                                    </figure>
                                    <span class="d-inline-block mt-1">By ${postData.author}</span>
                                    <span>&nbsp;-&nbsp; ${formattedDate}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <section class="section">
                <div class="container">
                    <div class="row blog-entries element-animate">
                        <div class="col-md-12 col-lg-8 main-content">
                         
                        </div>
                        <div class="col-md-12 col-lg-4 sidebar">
                           
                        </div>
                    </div>
                </div>
            </section>
        `;

        singleBlogContainer.innerHTML = postHtml;
      } else {
        console.error('Blog post not found.');
      }
    }

    function formatDate(timestamp) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      const date = new Date(timestamp);
      return date.toLocaleDateString('en-US', options);
    }

  </script> -->


  <!-- Add this script section to your HTML file -->
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // Fetch blog post data
      const postLink = getPostLinkFromURL();
      const postData = await fetchBlogData(postLink);
      // Render the blog post
      renderBlogPost(postData);
    });

    function getPostLinkFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('postLink');
    }

    async function fetchBlogData(postLink) {
      try {
        const response = await fetch(`http://localhost:5000/blog/getblogbyid/${postLink}`);
        const data = await response.json();
        console.log(data);
        return data;
      } catch (error) {
        console.error('Error fetching blog post data:', error);
      }
    }

    function renderBlogPost(postData) {


      console.log("postdata", postData)
      const singleBlogContainer = document.getElementById('singleBlogContainer');

      if (postData) {

        const baseUrl = 'http://localhost:5000';
        const imageUrl = `${baseUrl}/${postData.blog.image}`;
        const formattedDate = formatDate(postData.blog.post_time);

        const words = postData.blog.content.split(' ');
        const halfIndex = Math.ceil(words.length / 2);
        const firstHalf = words.slice(0, halfIndex).join(' ');
        const secondHalf = words.slice(halfIndex).join(' ');



        const postHtml = `
              <div class="site-cover site-cover-sm same-height overlay single-page"
                  style="background-image: url('images/single-page-backgroud.webp');">
                  <div class="container">
                      <div class="row same-height justify-content-center">
                          <div class="col-md-6">
                              <div class="post-entry text-center">
                                  <h1 class="mb-4">${postData.blog.title}</h1>
                                  <div class="post-meta align-items-center text-center">
                                      <figure class="author-figure mb-0 me-3 d-inline-block">
                                          <img src="images/author-image-malik.png" alt="Image" class="img-fluid">
                                      </figure>
                                      <span class="d-inline-block mt-1">By ${postData.blog.author}</span>
                                      <span>&nbsp;-&nbsp; ${formattedDate}</span>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <section class="section">
                  <div class="container">
                      <div class="row blog-entries element-animate">
                          <div class="col-md-12 col-lg-8 main-content">
                              <div class="post-content-body">
                                  <div class="row my-4">
                                      <div class="col-md-12 mb-4">
                                          <img src="${imageUrl}" alt="Image placeholder" class="img-fluid rounded col-md-12 ">
                                      </div>
                                  </div>
                                  <h2>${postData.blog.subtitle}</h2>
                                  <div class="first-half">
                                <p>${firstHalf}</p>
                            </div>

                            <!-- Second half of the content -->
                            <div class="second-half">
                                <p>${secondHalf}</p>
                            </div>
                              </div>
                              <div class="pt-5">
                           
                              </div>
                          </div>
                          <div class="col-md-12 col-lg-4 sidebar">
                              <div class="sidebar-box search-form-wrap">
                              </div>
                              <div class="sidebar-box">
                                  <div class="bio text-center">
                                      <img src="images/author-image-malik.png" alt="Image Placeholder" class="img-fluid mb-3">
                                      <div class="bio-body">
                                          <h2>About Farhan Malik</h2>
                                          <p class="mb-4">Farhan has an unconditional passion for real estate. He has acquired a great knowledge of of the areas in GTA and neighboring territories.</p>
                                          <p><a href="https://malikfarhan.com/about" class="btn btn-primary btn-sm rounded px-2 py-2">Read About me</a></p>
                                          <p class="social">
                                           
                                          </p>
                                      </div>
                                  </div>
                              </div>
                              <div class="sidebar-box">
                                  <h3 class="heading">Tags</h3>
                                  <ul class="tags">
                                    #OntarioRealEstate
                                    #PropertyForSale
                                    #HomeListings
                                    #RealEstateOntario
                                    #HouseHunting
                                    #DreamHome
                                    #HomeBuyer
                                    #HomeSeller
                                    #HouseForSale
                                    #CondoLiving
                                  </ul>
                              </div>
                          </div>
                      </div>
                  </div>
              </section>
          `;
        singleBlogContainer.innerHTML = postHtml;
      } else {
        console.error('Blog post not found.');
      }
    }

    function formatDate(timestamp) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      const date = new Date(timestamp);
      return date.toLocaleDateString('en-US', options);
    }

    // function renderCategories(categories) {
    //   return categories.map(category => `<a href="#">${category}</a>`).join(', ');
    // }

    // function renderTags(tags) {
    //   return tags.map(tag => `<li><a href="#">${tag}</a></li>`).join('');
    // }

    // function renderSocialIcons(social) {
    //   return Object.entries(social).map(([platform, link]) => `<a href="${link}" class="p-2"><span class="fa fa-${platform.toLowerCase()}"></span></a>`).join('');
    // }
  </script>


</body>

</html>